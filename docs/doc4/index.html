<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/theRoomDoc/blog/rss.xml" title="TheRoom Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/theRoomDoc/blog/atom.xml" title="TheRoom Blog Atom Feed"><title data-react-helmet="true">Concepts and Principle | TheRoom</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Concepts and Principle | TheRoom"><meta data-react-helmet="true" name="description" content="The backend of this test was writen with NODEJS (ExpressJS Framework) and TypeScript, as earlier stated the goal was to provide set of atomic structure from a domain driven point of view."><meta data-react-helmet="true" property="og:description" content="The backend of this test was writen with NODEJS (ExpressJS Framework) and TypeScript, as earlier stated the goal was to provide set of atomic structure from a domain driven point of view."><meta data-react-helmet="true" property="og:url" content="https://springafar.github.io/theRoomDoc/docs/doc4"><link data-react-helmet="true" rel="shortcut icon" href="/theRoomDoc/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://springafar.github.io/theRoomDoc/docs/doc4"><link rel="stylesheet" href="/theRoomDoc/styles.21f0090d.css">
<link rel="preload" href="/theRoomDoc/styles.9b61b31b.js" as="script">
<link rel="preload" href="/theRoomDoc/runtime~main.5a687c59.js" as="script">
<link rel="preload" href="/theRoomDoc/main.926958e3.js" as="script">
<link rel="preload" href="/theRoomDoc/common.a2ffbb0e.js" as="script">
<link rel="preload" href="/theRoomDoc/2.fdb5e36b.js" as="script">
<link rel="preload" href="/theRoomDoc/13.e2c771ad.js" as="script">
<link rel="preload" href="/theRoomDoc/14.6d9df7dc.js" as="script">
<link rel="preload" href="/theRoomDoc/935f2afb.bd450b29.js" as="script">
<link rel="preload" href="/theRoomDoc/17896441.3cb97ba3.js" as="script">
<link rel="preload" href="/theRoomDoc/4b91c96a.db4c700a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/theRoomDoc/"><strong class="navbar__title">TheRoom</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/theRoomDoc/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/theRoomDoc/"><strong class="navbar__title">TheRoom</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/theRoomDoc/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Backend</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/theRoomDoc/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/theRoomDoc/docs/doc2">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/theRoomDoc/docs/doc3">Services</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/theRoomDoc/docs/doc4">Concepts and Principle</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/theRoomDoc/docs/mdx">Powered by theRoom</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Concepts and Principle</h1></header><div class="markdown"><p>The backend of this test was writen with NODEJS (ExpressJS Framework) and TypeScript, as earlier stated the goal was to provide set of atomic structure from a domain driven point of view.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This project does not cover the entire concept of Domain Driven Design as the time was too short to take a look at that in details, this is just a step in a direction based on what i was thinking while building this project, as i currently use other concepts in my real world problems.</p></div></div><p><strong>First my general thoughts</strong></p><p>Humans thinks in categories, groups and domains and i felt codes both back and frontend should reflect this. Frontend technologies has grown to incooperate concepts like Actions, State, DAO (Data accesss objects and structures) i also feel the backend should reflect these steps too.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="about-this-project"></a>About this project<a class="hash-link" href="#about-this-project" title="Direct link to heading">#</a></h2><p>The app was divide into two core service based on the requirements.</p><ol><li>Fixed Source</li><li>Random Source</li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>I know there could have been a third one for authentication again i was also looking at the time to abstract this.</p></div></div><p>I will take a look at these two core services based on these topics below:</p><ol><li>Data manipulation</li><li>Actions</li><li>Models</li><li>State</li><li>Testing</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="data-manipulation"></a>DATA MANIPULATION<a class="hash-link" href="#data-manipulation" title="Direct link to heading">#</a></h2><p>For each of these services i tried to ensure that data are clearly defined as the flow through the system, first using <code>Typescript</code> solved this issue for me, now at every instance you are able to clearly gain insight into the program when writing instead fo running it.</p><p>Fixed Source for example has this path to the data definition interface <code>src/services/fixedSource/api.types.ts</code> and this is at the service level again as this is related only to the domain in question</p><p><strong>Fixed Source Data Definition</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">export interface IJokesRequest </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">export interface IJokesResponse </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  status?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  data?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Array&lt;IJoke&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">export interface IJoke </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  setup</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  punchline</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>As shown this defines both the request and response object through the network and also clear definition of what a <code>Joke</code> is.</p><p><strong>Structured and UnStructured Data</strong></p><p>For the most part both service data seems to be structured. elimating the need for DTO (Data Transfer Objects) but if you noticed there is a directory for this which was initially meant for transforming any kind of unstructured objects to match the <code>STRUCT or INTERFACE</code> structure defined.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="actions"></a>ACTIONS<a class="hash-link" href="#actions" title="Direct link to heading">#</a></h2><p>Now that data is cleared out, actions are supposed to be microbytes of functions that should run in response to data change. </p><p>Again time was my limitation so this concept was not fully implemented, but this functions or classes should live at the application level for global actions eg: <code>src/app/controllers/index.ts</code> which handles app layer responses or at the service level or even at the dataModel layer eg the fuction that hash password in the User model as shown below.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> User.addHook(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;beforeCreate&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> async (user) =&gt; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    const salt = bcrypt.genSaltSync(</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    const pass = await bcrypt.hash(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      user.getDataValue(&#x27;password&#x27;)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      salt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    user.setDataValue(&#x27;password&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">pass)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Again think reactive, actions should be reactive for large applications and for actions that are candidates of <code>Facades</code> in real live i sometimes move them to lambda functions a AWS or any other cloud service as the basically responds to an event. In the finiancial world this event could be a deposit which could trigger an action.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="models"></a>Models<a class="hash-link" href="#models" title="Direct link to heading">#</a></h2><p>This solution only have one model the user model</p><p>For this demostration i didt really expand on this in details, but i am currently using sequelizejs but my thoughts here is models generally should be models and should at a very low level just represent data in a data store, allow you to build queries, load and save data and also have an inbuilt-in event system that listens for events.</p><p>This is not always the case in pratice but ideally all reactions should be move to an action which is a good candidate for that. I violated this rule buy adding my actions directly in the model as shown above but this is a small app and i am allowed to get away with that.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>We need to avoid models becoming nothing more than empty bags of data: My thoughts as this also improves testing, but in reality this is not the case</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="state"></a>STATE<a class="hash-link" href="#state" title="Direct link to heading">#</a></h2><p>For the test i didt touch this topic, but the idea here would have been for a complex registration a commit to the db should fail or pass base on the status of the state, another example is someone can be logged in or not.</p><p>A clear implemetation of this would allow for testing state context, carrying this context across etc.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="testing"></a>TESTING<a class="hash-link" href="#testing" title="Direct link to heading">#</a></h2><p>This app has about 70percent test coverage, i am still working on improving this based on time.</p><p>But service request and responses are fully tested and you will find the test scripts in the test directory.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/doc4.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/theRoomDoc/docs/doc3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Services</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/theRoomDoc/docs/mdx"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Powered by theRoom Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#about-this-project" class="table-of-contents__link">About this project</a></li><li><a href="#data-manipulation" class="table-of-contents__link">DATA MANIPULATION</a></li><li><a href="#actions" class="table-of-contents__link">ACTIONS</a></li><li><a href="#models" class="table-of-contents__link">Models</a></li><li><a href="#state" class="table-of-contents__link">STATE</a></li><li><a href="#testing" class="table-of-contents__link">TESTING</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/theRoomDoc/docs/">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/theRoomDoc/docs/doc4/">Concept</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ighotouch/theRoom" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Igho matthew, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/theRoomDoc/styles.9b61b31b.js"></script>
<script src="/theRoomDoc/runtime~main.5a687c59.js"></script>
<script src="/theRoomDoc/main.926958e3.js"></script>
<script src="/theRoomDoc/common.a2ffbb0e.js"></script>
<script src="/theRoomDoc/2.fdb5e36b.js"></script>
<script src="/theRoomDoc/13.e2c771ad.js"></script>
<script src="/theRoomDoc/14.6d9df7dc.js"></script>
<script src="/theRoomDoc/935f2afb.bd450b29.js"></script>
<script src="/theRoomDoc/17896441.3cb97ba3.js"></script>
<script src="/theRoomDoc/4b91c96a.db4c700a.js"></script>
</body>
</html>