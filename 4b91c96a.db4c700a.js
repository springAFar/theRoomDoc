(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{72:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return r})),a.d(t,"toc",(function(){return c})),a.d(t,"default",(function(){return d}));var n=a(3),o=a(7),i=(a(0),a(88)),s={id:"doc4",title:"Concepts and Principle"},r={unversionedId:"doc4",id:"doc4",isDocsHomePage:!1,title:"Concepts and Principle",description:"The backend of this test was writen with NODEJS (ExpressJS Framework) and TypeScript, as earlier stated the goal was to provide set of atomic structure from a domain driven point of view.",source:"@site/docs/doc4.md",slug:"/doc4",permalink:"/theRoomDoc/docs/doc4",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/doc4.md",version:"current",sidebar:"someSidebar",previous:{title:"Services",permalink:"/theRoomDoc/docs/doc3"},next:{title:"Powered by theRoom",permalink:"/theRoomDoc/docs/mdx"}},c=[{value:"About this project",id:"about-this-project",children:[]},{value:"DATA MANIPULATION",id:"data-manipulation",children:[]},{value:"ACTIONS",id:"actions",children:[]},{value:"Models",id:"models",children:[]},{value:"STATE",id:"state",children:[]},{value:"TESTING",id:"testing",children:[]}],l={toc:c};function d(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The backend of this test was writen with NODEJS (ExpressJS Framework) and TypeScript, as earlier stated the goal was to provide set of atomic structure from a domain driven point of view."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"This project does not cover the entire concept of Domain Driven Design as the time was too short to take a look at that in details, this is just a step in a direction based on what i was thinking while building this project, as i currently use other concepts in my real world problems."))),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"First my general thoughts")),Object(i.b)("p",null,"Humans thinks in categories, groups and domains and i felt codes both back and frontend should reflect this. Frontend technologies has grown to incooperate concepts like Actions, State, DAO (Data accesss objects and structures) i also feel the backend should reflect these steps too."),Object(i.b)("h2",{id:"about-this-project"},"About this project"),Object(i.b)("p",null,"The app was divide into two core service based on the requirements."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Fixed Source"),Object(i.b)("li",{parentName:"ol"},"Random Source")),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"I know there could have been a third one for authentication again i was also looking at the time to abstract this."))),Object(i.b)("p",null,"I will take a look at these two core services based on these topics below:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Data manipulation"),Object(i.b)("li",{parentName:"ol"},"Actions"),Object(i.b)("li",{parentName:"ol"},"Models"),Object(i.b)("li",{parentName:"ol"},"State"),Object(i.b)("li",{parentName:"ol"},"Testing")),Object(i.b)("h2",{id:"data-manipulation"},"DATA MANIPULATION"),Object(i.b)("p",null,"For each of these services i tried to ensure that data are clearly defined as the flow through the system, first using ",Object(i.b)("inlineCode",{parentName:"p"},"Typescript")," solved this issue for me, now at every instance you are able to clearly gain insight into the program when writing instead fo running it."),Object(i.b)("p",null,"Fixed Source for example has this path to the data definition interface ",Object(i.b)("inlineCode",{parentName:"p"},"src/services/fixedSource/api.types.ts")," and this is at the service level again as this is related only to the domain in question"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Fixed Source Data Definition")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},"export interface IJokesRequest {}\nexport interface IJokesResponse {\n  status?: number;\n  data?: Array<IJoke>;\n}\n\nexport interface IJoke {\n  id: number;\n  type: string;\n  setup: string;\n  punchline: string;\n}\n")),Object(i.b)("p",null,"As shown this defines both the request and response object through the network and also clear definition of what a ",Object(i.b)("inlineCode",{parentName:"p"},"Joke")," is."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Structured and UnStructured Data")),Object(i.b)("p",null,"For the most part both service data seems to be structured. elimating the need for DTO (Data Transfer Objects) but if you noticed there is a directory for this which was initially meant for transforming any kind of unstructured objects to match the ",Object(i.b)("inlineCode",{parentName:"p"},"STRUCT or INTERFACE")," structure defined."),Object(i.b)("h2",{id:"actions"},"ACTIONS"),Object(i.b)("p",null,"Now that data is cleared out, actions are supposed to be microbytes of functions that should run in response to data change. "),Object(i.b)("p",null,"Again time was my limitation so this concept was not fully implemented, but this functions or classes should live at the application level for global actions eg: ",Object(i.b)("inlineCode",{parentName:"p"},"src/app/controllers/index.ts")," which handles app layer responses or at the service level or even at the dataModel layer eg the fuction that hash password in the User model as shown below."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"}," User.addHook(\"beforeCreate\", async (user) => {\n    const salt = bcrypt.genSaltSync(10);\n    const pass = await bcrypt.hash(\n      user.getDataValue('password'),\n      salt\n    );\n    user.setDataValue('password',pass)\n  });\n")),Object(i.b)("p",null,"Again think reactive, actions should be reactive for large applications and for actions that are candidates of ",Object(i.b)("inlineCode",{parentName:"p"},"Facades")," in real live i sometimes move them to lambda functions a AWS or any other cloud service as the basically responds to an event. In the finiancial world this event could be a deposit which could trigger an action."),Object(i.b)("h2",{id:"models"},"Models"),Object(i.b)("p",null,"This solution only have one model the user model"),Object(i.b)("p",null,"For this demostration i didt really expand on this in details, but i am currently using sequelizejs but my thoughts here is models generally should be models and should at a very low level just represent data in a data store, allow you to build queries, load and save data and also have an inbuilt-in event system that listens for events."),Object(i.b)("p",null,"This is not always the case in pratice but ideally all reactions should be move to an action which is a good candidate for that. I violated this rule buy adding my actions directly in the model as shown above but this is a small app and i am allowed to get away with that."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"We need to avoid models becoming nothing more than empty bags of data: My thoughts as this also improves testing, but in reality this is not the case"))),Object(i.b)("h2",{id:"state"},"STATE"),Object(i.b)("p",null,"For the test i didt touch this topic, but the idea here would have been for a complex registration a commit to the db should fail or pass base on the status of the state, another example is someone can be logged in or not."),Object(i.b)("p",null,"A clear implemetation of this would allow for testing state context, carrying this context across etc."),Object(i.b)("h2",{id:"testing"},"TESTING"),Object(i.b)("p",null,"This app has about 70percent test coverage, i am still working on improving this based on time."),Object(i.b)("p",null,"But service request and responses are fully tested and you will find the test scripts in the test directory."))}d.isMDXComponent=!0}}]);